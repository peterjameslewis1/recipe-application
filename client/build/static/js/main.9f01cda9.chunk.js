(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{38:function(e,t){e.exports="data:image/png;base64,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"},42:function(e,t,a){e.exports=a(74)},47:function(e,t,a){},48:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),u=a.n(c),s=(a(47),a(48),a(5)),i=a(3),o=a(1),l=a.n(o),m=a(4),f="b4783ea160ce4158a0220ce00e812a53",p=function(e){return{type:"FETCH_RECIPE_SUCCESS",payload:e}},E=function(e){return{type:"FETCH_QUERY_RECIPE_SUCCESS",payload:e}},d=function(e){return{type:"FETCH_RECIPE_FAILURE",payload:e}},h=function(){return function(){var e=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:"REFRESH_RECIPES",payload:[]});case 2:return e.next=4,t(g([]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(e){return function(t){t({type:"FETCH_RECIPE_BEGIN"}),fetch("https://api.spoonacular.com/recipes/random?number=20&apiKey=".concat(f)).then((function(e){return e.json()})).then((function(a){if(e.length>1){var n=e.map((function(e){return e.id})),r=a.recipes.map((function(e){return e.id})),c=n.filter((function(e){return r.includes(e)})),u=a.recipes.filter((function(e){return null!==e&&void 0!==(null===e||void 0===e?void 0:e.image)&&!c.includes(e.id)}));t(p(u))}else{var s=a.recipes.filter((function(e){return null!==e&&void 0!==(null===e||void 0===e?void 0:e.image)}));t(p(s))}})).catch((function(e){t(d(e))}))}},b=function(e,t){return function(a){a({type:"FETCH_RECIPE_BEGIN"}),fetch("https://api.spoonacular.com/recipes/complexSearch?&query=".concat(e,"&number=").concat(t.length+10,"&apiKey=").concat(f)).then((function(e){return e.json()})).then((function(e){var n=e.results.map((function(e){return e.id}));v(n).then((function(e){if(t.length>1){var n=t.map((function(e){return e.id})),r=e.map((function(e){return e.id})),c=n.filter((function(e){return r.includes(e)})),u=e.filter((function(e){return!c.includes(e.id)}));return a(E(u))}return a(E(e))}))})).catch((function(e){a(d(e))}))}},v=function(e){return fetch("https://api.spoonacular.com/recipes/informationBulk?ids=".concat(e,"&apiKey=").concat(f)).then((function(e){return e.json()})).catch((function(e){return e}))},y=function(e,t){return function(a){a({type:"FETCH_RECIPE_BEGIN"}),fetch("https://api.spoonacular.com/recipes/complexSearch?&cuisine=".concat(e,"&number=").concat(t+10,"&apiKey=").concat(f)).then((function(e){return e.json()})).then((function(e){var t=e.results.map((function(e){return e.id}));v(t).then((function(e){a(function(e){return{type:"FETCH_CUISINE_RECIPE_SUCCESS",payload:e}}(e))}))})).catch((function(e){a(d(e))}))}},j=function(e){return function(t){t({type:"FETCH_RECIPE_BEGIN"}),fetch("https://api.spoonacular.com/recipes/".concat(e,"/similar?apiKey=").concat(f)).then((function(e){return e.json()})).then((function(e){var a=e.map((function(e){return e.id}));t(function(e){return function(t){fetch("https://api.spoonacular.com/recipes/informationBulk?ids=".concat(e,"&apiKey=").concat(f)).then((function(e){return e.json()})).then((function(e){t(function(e){return{type:"FETCH_SIMILAR_RECIPES",payload:e}}(e))})).catch((function(e){t(d(e))}))}}(a))})).catch((function(e){t(d(e))}))}},O=function(e){var t=e.data,a=e.newPrice;return r.a.createElement("div",{className:"stats"},r.a.createElement("div",{className:"stats__item"},r.a.createElement("i",{className:"fas fa-clock"}),r.a.createElement("span",null,t.readyInMinutes)),r.a.createElement("div",{className:"stats__item"},r.a.createElement("i",{className:"fas fa-star"}),r.a.createElement("span",null,t.spoonacularScore)),r.a.createElement("div",{className:"stats__item"},r.a.createElement("i",{className:"fas fa-users"}),r.a.createElement("span",null,t.servings)),r.a.createElement("div",{className:"stats__item"},r.a.createElement("i",{className:"fas fa-coins"}),r.a.createElement("span",null,"$",a)))},I=a(8),S=Object(i.b)((function(e){return{user:e.user}}))((function(e){var t=e.data;return r.a.createElement(I.b,{to:{pathname:"/recipe",state:t}},r.a.createElement("div",{className:"img"},r.a.createElement("img",{src:t.image,alt:t.title})),r.a.createElement("div",{className:"results__item__text"},r.a.createElement("h4",{className:"title"},t.title),r.a.createElement("p",{className:"source"},"Recipe by ",r.a.createElement("strong",null,t.sourceName))),r.a.createElement("div",{className:"results__item__scores"},r.a.createElement("div",{className:"results__item__scores__score"},r.a.createElement("i",{className:"fas fa-clock"}),r.a.createElement("span",null,t.readyInMinutes)),r.a.createElement("div",{className:"results__item__scores__score"},r.a.createElement("i",{className:"fas fa-star rating"}),r.a.createElement("span",null,t.spoonacularScore)),r.a.createElement("div",{className:"results__item__scores__score"},r.a.createElement("i",{className:"fas fa-users"}),r.a.createElement("span",null,t.servings))))})),_=a(2),N=a(14),C=a.n(N),R=function(e){return{type:"FETCH_USER_SUCCESS",payload:e}},A=function(e){return{type:"SET_USER_FAVOURITES__DETAILS",payload:e}},w=function(e){return{type:"FETCH_USER_FAILURE",payload:e}},T=function(e){return function(){var t=Object(m.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C()({method:"GET",url:"https://api.spoonacular.com/recipes/informationBulk?ids=".concat(e,"&apiKey=").concat("b4783ea160ce4158a0220ce00e812a53")}).then((function(e){a(A(e.data))})).catch((function(e){w(e.data)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},U=function(e){return function(){var t=Object(m.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_USER_BEGIN"}),t.next=3,C()({method:"POST",url:"/api/login",data:JSON.stringify(e),headers:{"Content-type":"application/json"}}).then((function(e){function t(){return(t=Object(m.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(R(e.data));case 2:return t.next=4,a(T(e.data.favourites));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()})).catch((function(e){a(w(e.response))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=Object(i.b)((function(e){return{user:e.user}}),(function(e){return{setFavourite:function(t){return e((a=t,function(){var e=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_USER_BEGIN"}),e.next=3,C()({method:"POST",url:"/api/addfaveourite",data:JSON.stringify(a),headers:{"Content-type":"application/json"}}).then((function(e){t(R(e.data))})).catch((function(e){w(e.data)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var a},deleteFavourite:function(t){return e((a=t,function(){var e=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C()({method:"POST",url:"/api/deletefavourite",data:JSON.stringify(a),headers:{"Content-type":"application/json"}}).catch((function(e){w(e.data)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var a},setUserFavourites:function(t){return e(A(t))},setUserFavouritesId:function(t){return e(function(e){return{type:"SET_USER_FAVOURITES__ID",payload:e}}(t))},setUser:function(t){return e(U(t))}}}))((function(e){var t=e.setFavourite,a=e.deleteFavourite,n=e.user,c=e.id,u=e.setUserFavourites,s=(e.setUser,e.setUserFavouritesId),i=n.user.favourites.includes(c),o=function(){var e=Object(m.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.user.favouritesDetails.filter((function(e){return e.id!==t}));case 2:return a=e.sent,e.next=5,n.user.favourites.filter((function(e){return e!==t}));case 5:return r=e.sent,e.next=8,u(a);case 8:return e.next=10,s(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"favourite-button"},i?r.a.createElement("i",{onClick:function(){o(c),a({email:n.user.email,id:c})},className:"fas fa-trash-alt favourite"}):r.a.createElement("i",{onClick:function(){return t({email:n.user.email,id:c})},className:"far fa-heart favourite"}))})),B=Object(i.b)((function(e){return{similarData:e.recipe.similarRecipes,user:e.user}}),(function(e){return{similarRecipes:function(t){return e(j(t))}}}))((function(e){var t=e.user,a=e.similarRecipes,c=e.similarData,u=void 0===c?[]:c,i=e.location,o=Object(s.f)(),l=i.state,m=(l.pricePerServing/100).toFixed(2);return Object(n.useEffect)((function(){window.scrollTo(0,0);var e=!1;return e||a(l.id),function(){e=!0}}),[l.id,a]),r.a.createElement("div",{className:"single-recipe"},r.a.createElement("div",{className:"img"},r.a.createElement("img",{src:l.image,alt:l.title})),r.a.createElement(O,{data:l,newPrice:m}),r.a.createElement("div",{className:"title-container container"},r.a.createElement("h2",{className:"title "},l.title),r.a.createElement("p",{className:"source"},"Recipe by ",r.a.createElement("strong",null,l.sourceName))),r.a.createElement("div",{className:"single-recipe__text container"},r.a.createElement("p",{className:"summary",dangerouslySetInnerHTML:{__html:l.summary}})),r.a.createElement("div",{className:"single-recipe__ingredients list container"},r.a.createElement("h2",null,"Ingredients:"),r.a.createElement("ul",null,l.extendedIngredients.map((function(e,t){return null===e?null:r.a.createElement("li",{key:t},e.original,r.a.createElement("span",null,"(",e.measures.metric.amount.toFixed(0),e.measures.metric.unitLong,")"))})))),r.a.createElement("div",{className:"single-recipe__features",onClick:t.loggedIn?null:function(){return o.push("/account")}},t.loggedIn?r.a.createElement(x,{id:l.id}):null,t.loggedIn&&t.user.favourites.includes(l.id)?"Remove":"Save"),r.a.createElement("div",{className:"single-recipe__instructions list container"},r.a.createElement("h2",null,"Method:"),l.analyzedInstructions.map((function(e){return e===[]?null:r.a.createElement("div",{className:"method-steps"},r.a.createElement("h3",null,e.name),r.a.createElement("ul",null,e.steps.map((function(e){return r.a.createElement("li",{key:e.number},e.step)}))))}))),r.a.createElement("div",{className:"similar-recipes"},r.a.createElement("h2",{className:"container"},"Similar Recipes"),r.a.createElement("ul",{className:"results",id:"similar"},u.map((function(e){return r.a.createElement("li",{key:e.id,className:"results__item"},r.a.createElement(S,{data:e}))})))))})),F=a(20),k=Object(i.b)((function(e){return{data:e.recipe.data,user:e.user}}),(function(e){return{fetchData:function(t){return e(g(t))},pullOnRefresh:function(){return e(h())}}}))((function(e){var t=e.fetchData,a=e.data,c=void 0===a?[]:a,u=e.pullOnRefresh,s=e.user;return Object(n.useEffect)((function(){if(c.length<1){function e(){return(e=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(c));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}}),[]),r.a.createElement("div",{className:"home"},r.a.createElement(F.a,{dataLength:c.length,next:function(){return t(c)},hasMore:!0,loader:r.a.createElement("h4",null,"Loading..."),endMessage:r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("b",null,"Yay! You have seen it all")),refreshFunction:u,pullDownToRefresh:!0,pullDownToRefreshThreshold:50,pullDownToRefreshContent:r.a.createElement("h3",{style:{textAlign:"center"}},"\u2193 Pull down to refresh"),releaseToRefreshContent:r.a.createElement("h3",{style:{textAlign:"center"}},"\u2191 Release to refresh")},r.a.createElement("ul",{className:"results"},c.map((function(e){return r.a.createElement("li",{className:"results__item",key:e.id},r.a.createElement(S,{data:e}),s.loggedIn?r.a.createElement(x,{id:e.id}):null)})))))})),H=a(6);var P=Object(i.b)((function(e){return{searchResults:e.recipe.searchResults}}),(function(e){return{searchRecipe:function(t,a){return e(b(t,a))},resetResults:function(){return e({type:"REFRESH_RECIPES",payload:[]})},setQueryToStore:function(t){return e(function(e){return{type:"SET_QUERY",payload:e}}(t))}}}))((function(e){var t=e.searchRecipe,a=e.resetResults,c=e.setQueryToStore,u=e.searchResults,s=Object(n.useState)(""),i=Object(H.a)(s,2),o=i[0],f=i[1],p=Object(n.useState)(!1),E=Object(H.a)(p,2),d=E[0],h=E[1],g=function(e,t){var a=Object(n.useState)(e),r=Object(H.a)(a,2),c=r[0],u=r[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){u(e)}),t);return function(){clearTimeout(a)}}),[e,t]),c}(o,1e3),b=function(){var e=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=11;break}return e.next=3,c(o);case 3:return e.next=5,a();case 5:return e.next=7,h(!0);case 7:return e.next=9,t(o,u);case 9:return e.next=11,h(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){b()}),[g,o,t]),r.a.createElement("div",{className:"autocomplete container"},r.a.createElement("input",{placeholder:"Search recipe...",onChange:function(e){return f(e.target.value)}}),d&&r.a.createElement("div",null,"Searching ..."))})),M=Object(i.b)((function(e){return{data:e.recipe.data,query:e.recipe.query,searchResults:e.recipe.searchResults,cuisine:e.recipe.cuisine,user:e.user}}),(function(e){return{searchCuisine:function(t,a){return e(y(t,a))},searchQuery:function(t,a){return e(b(t,a))},fetchData:function(t){return e(g(t))},pullOnRefresh:function(){return e(h())}}}))((function(e){var t=e.data,a=void 0===t?[]:t,n=e.searchResults,c=void 0===n?[]:n,u=e.searchCuisine,s=e.fetchData,i=e.cuisine,o=e.user,l=e.pullOnRefresh,m=e.query,f=e.searchQuery;return r.a.createElement(F.a,{dataLength:c.length>1?c.length:a.length,next:function(){return""==i&&""===m?s(a):""!==i?u(i,c.length):f(m,c)},hasMore:!0,loader:r.a.createElement("h4",null,"Loading..."),endMessage:r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("b",null,"Yay! You have seen it all")),refreshFunction:l,pullDownToRefresh:!0,pullDownToRefreshThreshold:50,pullDownToRefreshContent:r.a.createElement("h3",{style:{textAlign:"center"}},"\u2193 Pull down to refresh"),releaseToRefreshContent:r.a.createElement("h3",{style:{textAlign:"center"}},"\u2191 Release to refresh")},r.a.createElement("ul",{className:"results"},c.length>1?c.map((function(e){return r.a.createElement("li",{className:"results__item",key:e.id},r.a.createElement(S,{data:e}),o.loggedIn?r.a.createElement(x,{id:e.id}):null)})):a.map((function(e){return r.a.createElement("li",{className:"results__item",key:e.id},r.a.createElement(S,{data:e}),o.loggedIn?r.a.createElement(x,{id:e.id}):null)}))))})),D=Object(i.b)((function(e){return{data:e.recipe.data}}),(function(e){return{searchCuisine:function(t,a){return e(y(t,a))},setCuisine:function(t){return e(function(e){return{type:"SET_CUISINE",payload:e}}(t))},refreshRecipes:function(){return e({type:"REFRESH_RECIPES",payload:[]})}}}))((function(e){var t=e.setCuisine,a=e.searchCuisine,n=e.refreshRecipes;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("ul",{className:"cuisines"},["American","British","Cajun","Caribbean","Chinese","Greek","Indian","Italian","Japanese","Korean","Mediterranean","Mexican","Southern","Spanish","Thai","Vietnamese"].map((function(e,c){return r.a.createElement("li",{className:"cuisines__item",key:c,onClick:function(){n(),t(e),a(e,0)}},e)}))))})),V=function(){return r.a.createElement("div",{className:"search"},r.a.createElement(P,null),r.a.createElement(D,null),r.a.createElement(M,null))},J=Object(i.b)(null,(function(e){return{createUser:function(t){return e((a=t,function(e){e({type:"FETCH_USER_BEGIN"}),C()({method:"POST",url:"https://api.spoonacular.com/users/connect?apiKey=".concat("b4783ea160ce4158a0220ce00e812a53"),data:JSON.stringify(a),headers:{"Content-type":"application/json"}}).then((function(t){var n=Object(_.a)(Object(_.a)({},a),t.data);C()({method:"POST",url:"/api/register",data:JSON.stringify(n),headers:{"Content-type":"application/json"}}).then((function(t){return e(R(t.data))})).catch((function(t){return e(w(t.response.data.message))}))})).catch((function(t){return e(w(t.response.data.message))}))}));var a}}}))((function(e){var t,a,c=e.createUser,u=e.user,i=Object(n.useState)(""),o=Object(H.a)(i,2),f=o[0],p=o[1],E=Object(n.useState)(""),d=Object(H.a)(E,2),h=d[0],g=d[1],b=Object(n.useState)(""),v=Object(H.a)(b,2),y=v[0],j=v[1],O=Object(s.f)();Object(n.useEffect)((function(){if(u.loggedIn)return O.push("/")}),[u.loggedIn,O]);var I=function(){var e=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c({name:f,email:h,password:y});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"authentication",onSubmit:I},r.a.createElement("p",null,"register"===(null===(t=u.error)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.type)?u.error.data.message:"Register"),r.a.createElement("input",{onChange:function(e){return p(e.target.value)},type:"text",name:"Full name",className:"name",placeholder:"Full name",required:!0}),r.a.createElement("input",{onChange:function(e){return g(e.target.value)},type:"email",name:"email",className:"email",placeholder:"Email address",required:!0}),r.a.createElement("input",{onChange:function(e){return j(e.target.value)},type:"password",name:"password",className:"password",placeholder:"Password",required:!0}),r.a.createElement("button",{type:"submit",className:"submit"},"Create account",r.a.createElement("i",{className:"fas fa-arrow-right"})))})),Q=Object(s.g)(Object(i.b)(null,(function(e){return{userDetails:function(t){return e(U(t))},fetchData:function(t){return e(T(t))}}}))((function(e){var t,a,c=e.userDetails,u=e.user,i=e.fetchData,o=Object(n.useState)(""),f=Object(H.a)(o,2),p=f[0],E=f[1],d=Object(n.useState)(""),h=Object(H.a)(d,2),g=h[0],b=h[1],v=Object(s.f)();Object(n.useEffect)((function(){if(u.loggedIn)return v.push("/")}),[u.loggedIn]);var y=function(){var e=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c({email:p,password:g});case 3:return e.next=5,i(u.user.favourites);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"authentication",onSubmit:y},r.a.createElement("p",null,(null===(t=u.error)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)?u.error.data.message:"Login"),r.a.createElement("input",{onChange:function(e){return E(e.target.value)},type:"email",className:"email",name:"email",placeholder:"Email address",required:!0}),r.a.createElement("input",{onChange:function(e){return b(e.target.value)},type:"password",name:"password",className:"password",placeholder:"Password",required:!0}),r.a.createElement("button",{type:"submit",className:"submit"},"Login",r.a.createElement("i",{className:"fas fa-arrow-right"})))}))),G=Object(i.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,a=Object(s.f)();return r.a.createElement("div",{className:"account container"},r.a.createElement("div",{className:"account__user-info"},r.a.createElement("div",{className:"back-btn",onClick:function(){return a.goBack()}},r.a.createElement("i",{className:"fas fa-arrow-left"}))),r.a.createElement("h2",null,"Sign up"),r.a.createElement(J,{user:t}),r.a.createElement(Q,{user:t}))})),Y=a(38),L=a.n(Y),q=Object(i.b)((function(e){return{user:e.user}}),(function(e){return{newUserImage:function(t){return e((a=t,function(){var e=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"FETCH_USER_BEGIN"}),C()({method:"POST",url:"/api/upload",data:a,headers:{"Content-type":"multipart/form-data"}}).then((function(e){return t(R(e.data))})).catch((function(e){return t(w(e.response.data))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var a}}}))((function(e){var t=e.user,a=e.newUserImage,c=e.setImage,u=Object(n.useState)(""),s=Object(H.a)(u,2),i=s[0],o=s[1],f=Object(n.useState)(""),p=Object(H.a)(f,2),E=p[0],d=p[1],h=function(){var e=Object(m.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,o(t.target.files[0]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),i){e.next=3;break}return e.abrupt("return",d("No file selected"));case 3:if(!i){e.next=15;break}if(!(i.size>7e6)){e.next=6;break}return e.abrupt("return",d("File size 7MB or smaller"));case 6:return e.next=8,new FormData;case 8:return r=e.sent,e.next=11,r.append("file",i);case 11:return e.next=13,r.append("id",t.user._id);case 13:return e.next=15,a(r);case 15:return e.abrupt("return");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:g,className:"file-upload",encType:"multipart/form-data"},r.a.createElement("p",null,""!==E?E:null),r.a.createElement("input",{type:"file",onChange:h}),r.a.createElement("div",{className:"file-upload__btn"},r.a.createElement("button",{type:"submit",className:"submit"},"Upload"),r.a.createElement("button",{className:"close",onClick:function(){return c(!1)}},"Close")))})),K=Object(i.b)((function(e){return{user:e.user}}),(function(e){return{logOut:function(){return e((function(e){return e({type:"FETCH_USER_BEGIN"}),e({type:"LOG_USER_OUT"})}))}}}))((function(e){var t=e.logOut,a=(e.user,Object(s.f)()),n=function(){var e=Object(m.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t();case 3:return e.next=5,localStorage.clear();case 5:return e.abrupt("return",a.push("/"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"auth-btn"},r.a.createElement("button",{className:"btn-login",onClick:n},"Log out"))})),z=Object(i.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,a=Object(s.f)(),c=Object(n.useState)(!1),u=Object(H.a)(c,2),i=u[0],o=u[1];return r.a.createElement("div",{className:"dashboard container"},r.a.createElement("div",{className:"account__user-info"},r.a.createElement("div",{className:"back-btn",onClick:function(){return a.goBack()}},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("div",{className:"account__user-info__logo",onClick:function(){return o(!i)}},r.a.createElement("img",{src:t.user.image?"/uploads/".concat(t.user.image):L.a,alt:"profile image"})," ",r.a.createElement("i",{className:"fas fa-plus"}))),i?r.a.createElement(q,{setImage:o}):null,r.a.createElement("h2",{className:"dashboard-name"},t.user.name),r.a.createElement(I.b,{className:"favourites-btn",to:"/favourites"},r.a.createElement("button",null,"Favourites")),r.a.createElement(K,null))})),X=Object(s.g)(Object(i.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,a=e.history;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__container container"},r.a.createElement("div",{className:"mobile-nav"},"/recipe"===a.location.pathname?r.a.createElement("i",{onClick:function(){return a.goBack()},className:"fas fa-arrow-left"}):r.a.createElement(I.b,{to:"/",className:"header__container__icon"},r.a.createElement("i",{className:"fas fa-home"}))),r.a.createElement(I.b,{to:"/",className:"home__title"},r.a.createElement("h1",{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}},t.fetchSuccess?t.user.name:"Recipeasy")),r.a.createElement("div",{className:"menu mobile-nav"},r.a.createElement(I.b,{to:"/search",className:"header__container__icon search"},r.a.createElement("i",{className:"fas fa-search"})),r.a.createElement(I.b,{to:t.loggedIn?"/dashboard":"/account",className:"header__container__icon"},r.a.createElement("i",{className:"fas fa-user-circle"})))))}))),W=function(e){var t=Object(s.f)();return r.a.createElement("div",{className:"header-body"},r.a.createElement(X,{history:t}),r.a.createElement("div",{id:"content"},e.children))},Z=Object(i.b)((function(e){return{user:e.user,data:e.user.user.favouritesDetails}}),(function(e){return{fetchData:function(t){return e(T(t))}}}))((function(e){var t=e.user,a=e.fetchData,c=e.data,u=void 0===c?[]:c,s=Object(n.useState)(!0),i=Object(H.a)(s,2),o=i[0],f=i[1];return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t.user.favourites);case 2:return e.next=4,f(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"favourites"},o?r.a.createElement("h4",null,"Loading..."):r.a.createElement("ul",{className:"results"},u.map((function(e){return r.a.createElement("li",{className:"results__item",key:e.id},r.a.createElement(S,{data:e}),t.loggedIn?r.a.createElement(x,{id:e.id}):null," ")}))))})),$=Object(i.b)((function(e){return{user:e.user}}))((function(){return r.a.createElement(I.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/dashboard",component:z}),r.a.createElement(s.a,{path:"/account",component:G}),r.a.createElement(W,null,r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(k,null)),r.a.createElement(s.a,{path:"/search"},r.a.createElement(V,null)),r.a.createElement(s.a,{path:"/recipe",component:B}),r.a.createElement(s.a,{path:"/favourites",component:Z})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=a(39),te=a(12),ae=a(26),ne=a(40),re=a.n(ne),ce={user:{favouritesDetails:[]},loading:!1,error:null,loggedIn:!1,loggedOut:!0,image:null},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_BEGIN":return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case"FETCH_USER_SUCCESS":return Object(_.a)(Object(_.a)({},e),{},{user:t.payload,error:null,loading:!1,loggedIn:!0,loggedOut:!1});case"SET_USER_FAVOURITES__DETAILS":return Object(_.a)(Object(_.a)({},e),{},{user:Object(_.a)(Object(_.a)({},e.user),{},{favouritesDetails:t.payload})});case"SET_USER_FAVOURITES__ID":return Object(_.a)(Object(_.a)({},e),{},{user:Object(_.a)(Object(_.a)({},e.user),{},{favourites:t.payload})});case"SET_USER_ON_RELOAD":return Object(_.a)(Object(_.a)({},e),{},{user:t.payload.user,error:t.payload.error,loading:t.payload.loading,loggedIn:t.payload.loggedIn});case"FETCH_USER_FAILURE":return Object(_.a)(Object(_.a)({},e),{},{error:t.payload,loading:!1,loggedIn:!1});case"LOG_USER_OUT":return Object(_.a)(Object(_.a)({},e),{},{user:{},error:null,loading:!1,loggedIn:!1,loggedOut:!0,image:{}});default:return e}},se={searchResults:[],data:[],loading:!1,error:null,cuisine:"",query:"",similarRecipes:[]},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CUISINE":return Object(_.a)(Object(_.a)({},e),{},{loading:!1,error:null,cuisine:t.payload});case"SET_QUERY":return Object(_.a)(Object(_.a)({},e),{},{query:t.payload,loading:!1,error:null,cuisine:""});case"FETCH_RECIPE_BEGIN":return Object(_.a)(Object(_.a)({},e),{},{loading:!0,error:null});case"FETCH_RECIPE_SUCCESS":return Object(_.a)(Object(_.a)({},e),{},{data:e.data.concat(t.payload),loading:!1,error:null,fetchSuccess:!0});case"FETCH_CUISINE_RECIPE_SUCCESS":return Object(_.a)(Object(_.a)({},e),{},{searchResults:t.payload,error:null,loading:!1,fetchSuccess:!0});case"FETCH_QUERY_RECIPE_SUCCESS":return Object(_.a)(Object(_.a)({},e),{},{searchResults:e.searchResults.concat(t.payload),error:null,loading:!1,fetchSuccess:!0});case"FETCH_SIMILAR_RECIPES":return Object(_.a)(Object(_.a)({},e),{},{similarRecipes:t.payload,loading:!1,error:null});case"FETCH_RECIPE_FAILURE":return Object(_.a)(Object(_.a)({},e),{},{loading:!1,error:t.payload.message});case"REFRESH_RECIPES":return Object(_.a)(Object(_.a)({},e),{},{searchResults:t.payload,loading:!0,error:null});default:return e}},oe=a(41),le={key:"root",storage:re.a},me=Object(te.c)({recipe:ie,user:ue}),fe=Object(ae.a)(le,me),pe=Object(te.d)(fe,Object(te.a)(oe.a)),Ee=Object(ae.b)(pe);u.a.render(r.a.createElement(i.a,{store:pe},r.a.createElement(ee.a,{loading:null,persistor:Ee},r.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.9f01cda9.chunk.js.map