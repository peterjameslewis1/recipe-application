(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{38:function(e,t){e.exports="data:image/png;base64,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"},42:function(e,t,a){e.exports=a(74)},47:function(e,t,a){},48:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),s=(a(47),a(48),a(5)),u=a(3),o="b4783ea160ce4158a0220ce00e812a53",l=function(e){return{type:"FETCH_RECIPE_FAILURE",payload:e}},m=function(){return function(e){e({type:"FETCH_RECIPE_BEGIN"}),fetch("https://api.spoonacular.com/recipes/random?number=20&apiKey=".concat(o)).then((function(e){return e.json()})).then((function(t){var a=t.recipes.filter((function(e){return null!==e&&void 0!==(null===e||void 0===e?void 0:e.image)}));e(function(e){return{type:"FETCH_RECIPE_SUCCESS",payload:e}}(a))})).catch((function(t){e(l(t))}))}},f=function(e){return function(t){fetch("https://api.spoonacular.com/recipes/informationBulk?ids=".concat(e,"&apiKey=").concat(o)).then((function(e){return e.json()})).then((function(e){t(function(e){return{type:"FETCH_SEARCH_RECIPE_SUCCESS",payload:e}}(e))})).catch((function(e){t(l(e))}))}},E=function(e,t){return function(a){a({type:"FETCH_RECIPE_BEGIN"}),fetch("https://api.spoonacular.com/recipes/complexSearch?&cuisine=".concat(e,"&number=").concat(t+10,"&apiKey=").concat(o)).then((function(e){return e.json()})).then((function(e){var t=e.results.map((function(e){return e.id}));a(f(t))})).catch((function(e){a(l(e))}))}},p=function(e){return function(t){t({type:"FETCH_RECIPE_BEGIN"}),fetch("https://api.spoonacular.com/recipes/".concat(e,"/similar?apiKey=").concat(o)).then((function(e){return e.json()})).then((function(e){var a=e.map((function(e){return e.id}));t(function(e){return function(t){fetch("https://api.spoonacular.com/recipes/informationBulk?ids=".concat(e,"&apiKey=").concat(o)).then((function(e){return e.json()})).then((function(e){t(function(e){return{type:"FETCH_SIMILAR_RECIPES",payload:e}}(e))})).catch((function(e){t(l(e))}))}}(a))})).catch((function(e){t(l(e))}))}},d=function(e){var t=e.data,a=e.newPrice;return r.a.createElement("div",{className:"stats"},r.a.createElement("div",{className:"stats__item"},r.a.createElement("i",{className:"fas fa-clock"}),r.a.createElement("span",null,t.readyInMinutes)),r.a.createElement("div",{className:"stats__item"},r.a.createElement("i",{className:"fas fa-star"}),r.a.createElement("span",null,t.spoonacularScore)),r.a.createElement("div",{className:"stats__item"},r.a.createElement("i",{className:"fas fa-users"}),r.a.createElement("span",null,t.servings)),r.a.createElement("div",{className:"stats__item"},r.a.createElement("i",{className:"fas fa-coins"}),r.a.createElement("span",null,"$",a)))},h=a(8),g=Object(u.b)((function(e){return{user:e.user}}))((function(e){var t=e.data;return r.a.createElement(h.b,{to:{pathname:"/recipe",state:t}},r.a.createElement("div",{className:"img"},r.a.createElement("img",{src:t.image,alt:t.title})),r.a.createElement("div",{className:"results__item__text"},r.a.createElement("h4",{className:"title"},t.title),r.a.createElement("p",{className:"source"},"Recipe by ",r.a.createElement("strong",null,t.sourceName))),r.a.createElement("div",{className:"results__item__scores"},r.a.createElement("div",{className:"results__item__scores__score"},r.a.createElement("i",{className:"fas fa-clock"}),r.a.createElement("span",null,t.readyInMinutes)),r.a.createElement("div",{className:"results__item__scores__score"},r.a.createElement("i",{className:"fas fa-star rating"}),r.a.createElement("span",null,t.spoonacularScore)),r.a.createElement("div",{className:"results__item__scores__score"},r.a.createElement("i",{className:"fas fa-users"}),r.a.createElement("span",null,t.servings))))})),b=a(1),v=a.n(b),j=a(4),O=a(2),y=a(14),I=a.n(y),N=function(e){return{type:"FETCH_USER_SUCCESS",payload:e}},S=function(e){return{type:"SET_USER_IMAGE",payload:e}},_=function(e){return{type:"SET_USER_FAVOURITES__DETAILS",payload:e}},A=function(e){return{type:"FETCH_USER_FAILURE",payload:e}},C=function(e){return console.log(e),function(){var t=Object(j.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I()({method:"GET",url:"https://api.spoonacular.com/recipes/informationBulk?ids=".concat(e,"&apiKey=").concat("b4783ea160ce4158a0220ce00e812a53")}).then((function(e){a(_(e.data))})).catch((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(j.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_USER_BEGIN"}),t.next=3,I()({method:"POST",url:"/api/login",data:JSON.stringify(e),headers:{"Content-type":"application/json"}}).then((function(e){function t(){return(t=Object(j.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e,"user data"),t.next=3,a(N(e.data));case 3:return t.next=5,a(C(e.data.favourites));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()})).catch((function(e){a(A(e.response))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=Object(u.b)((function(e){return{user:e.user}}),(function(e){return{setFavourite:function(t){return e((a=t,function(){var e=Object(j.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_USER_BEGIN"}),e.next=3,I()({method:"POST",url:"/api/addfaveourite",data:JSON.stringify(a),headers:{"Content-type":"application/json"}}).then((function(e){t(N(e.data))})).catch((function(e){A(e.data)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var a},deleteFavourite:function(t){return e((a=t,console.log(a),function(){var e=Object(j.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I()({method:"POST",url:"/api/deletefavourite",data:JSON.stringify(a),headers:{"Content-type":"application/json"}}).then((function(e){function t(){return(t=Object(j.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log(e.data),function(){t.apply(this,arguments)}()})).catch((function(e){A(e.data)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var a},setUserFavourites:function(t){return e(_(t))},setUserFavouritesId:function(t){return e(function(e){return{type:"SET_USER_FAVOURITES__ID",payload:e}}(t))},setUser:function(t){return e(R(t))}}}))((function(e){var t=e.setFavourite,a=e.deleteFavourite,n=e.user,c=e.id,i=e.setUserFavourites,s=(e.setUser,e.setUserFavouritesId),u=n.user.favourites.includes(c),o=function(){var e=Object(j.a)(v.a.mark((function e(t){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.user.favouritesDetails.filter((function(e){return e.id!==t}));case 2:return a=e.sent,e.next=5,n.user.favourites.filter((function(e){return e!==t}));case 5:return r=e.sent,e.next=8,i(a);case 8:return e.next=10,s(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"favourite-button"},u?r.a.createElement("i",{onClick:function(){o(c),a({email:n.user.email,id:c})},className:"fas fa-trash-alt favourite"}):r.a.createElement("i",{onClick:function(){return t({email:n.user.email,id:c})},className:"far fa-heart favourite"}))})),U=Object(u.b)((function(e){return{similarData:e.recipe.similarRecipes,user:e.user}}),(function(e){return{similarRecipes:function(t){return e(p(t))}}}))((function(e){var t=e.user,a=e.similarRecipes,c=e.similarData,i=void 0===c?[]:c,u=e.location,o=Object(s.f)(),l=u.state,m=(l.pricePerServing/100).toFixed(2);return Object(n.useEffect)((function(){window.scrollTo(0,0);var e=!1;return e||a(l.id),function(){e=!0}}),[l.id,a]),r.a.createElement("div",{className:"single-recipe"},r.a.createElement("div",{className:"img"},r.a.createElement("img",{src:l.image,alt:l.title})),r.a.createElement(d,{data:l,newPrice:m}),r.a.createElement("div",{className:"title-container container"},r.a.createElement("h2",{className:"title "},l.title,t.loggedIn?r.a.createElement(w,{id:l.id}):null),r.a.createElement("p",{className:"source"},"Recipe by ",r.a.createElement("strong",null,l.sourceName))),r.a.createElement("div",{className:"single-recipe__text container"},r.a.createElement("p",{className:"summary",dangerouslySetInnerHTML:{__html:l.summary}})),r.a.createElement("div",{className:"single-recipe__ingredients list container"},r.a.createElement("h2",null,"Ingredients:"),r.a.createElement("ul",null,l.extendedIngredients.map((function(e,t){return null===e?null:r.a.createElement("li",{key:t},e.original,r.a.createElement("span",null,"(",e.measures.metric.amount.toFixed(0),e.measures.metric.unitLong,")"))})))),r.a.createElement("div",{className:"single-recipe__features"},r.a.createElement("div",{className:"save-recipe",onClick:function(){return o.push("/account")}},t.loggedIn?r.a.createElement(w,{id:l.id}):null,r.a.createElement("i",{className:"far fa-heart favourite"}),"Favourites")),r.a.createElement("div",{className:"single-recipe__instructions list container"},r.a.createElement("h2",null,"Method:"),l.analyzedInstructions.map((function(e){return e===[]?null:r.a.createElement("div",{className:"method-steps"},r.a.createElement("h2",null,e.name),r.a.createElement("ul",null,e.steps.map((function(e){return r.a.createElement("li",{key:e.number},e.step)}))))}))),r.a.createElement("div",{className:"similar-recipes"},r.a.createElement("h2",{className:"container"},"Similar Recipes"),r.a.createElement("ul",{className:"results",id:"similar"},i.map((function(e){return r.a.createElement("li",{key:e.id,className:"results__item"},r.a.createElement(g,{data:e}))})))))})),T=a(37),B=Object(u.b)((function(e){return{data:e.recipe.data,searchResults:e.recipe.searchResults,cuisine:e.recipe.cuisine,user:e.user}}),(function(e){return{searchRecipe:function(t,a){return e(E(t,a))},fetchData:function(){return e(m())}}}))((function(e){var t=e.data,a=void 0===t?[]:t,n=e.searchResults,c=void 0===n?[]:n,i=e.searchRecipe,s=e.fetchData,u=e.cuisine,o=e.user;return r.a.createElement(T.a,{dataLength:a.length,next:""===u?function(){return s()}:function(){return i(u,a.length)},hasMore:!0,loader:r.a.createElement("h4",null,"Loading..."),endMessage:r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("b",null,"Yay! You have seen it all"))},r.a.createElement("ul",{className:"results"},c.length>1?c.map((function(e){return r.a.createElement("li",{className:"results__item",key:e.id},r.a.createElement(g,{data:e}),o.loggedIn?r.a.createElement(w,{id:e.id}):null)})):a.map((function(e){return r.a.createElement("li",{className:"results__item",key:e.id},r.a.createElement(g,{data:e}),o.loggedIn?r.a.createElement(w,{id:e.id}):null)}))))})),F=Object(u.b)((function(e){return{data:e.recipe.data}}),(function(e){return{fetchData:function(){return e(m())}}}))((function(e){var t=e.data,a=void 0===t?[]:t,c=e.fetchData;return Object(n.useEffect)((function(){if(a.length<1){function e(){return(e=Object(j.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}}),[a,c]),r.a.createElement("div",{className:"home"},r.a.createElement(B,null))})),k=a(7);var x=Object(u.b)(null,(function(e){return{searchRecipe:function(t){return e(function(e){return function(t){t({type:"FETCH_RECIPE_BEGIN"}),fetch("https://api.spoonacular.com/recipes/complexSearch?&query=".concat(e,"&apiKey=").concat(o)).then((function(e){return e.json()})).then((function(e){var a=e.results.map((function(e){return e.id}));t(f(a))})).catch((function(e){t(l(e))}))}}(t))}}}))((function(e){var t=e.searchRecipe,a=Object(n.useState)(""),c=Object(k.a)(a,2),i=c[0],s=c[1],u=Object(n.useState)(!1),o=Object(k.a)(u,2),l=o[0],m=o[1],f=function(e,t){var a=Object(n.useState)(e),r=Object(k.a)(a,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){i(e)}),t);return function(){clearTimeout(a)}}),[e,t]),c}(i,500);return Object(n.useEffect)((function(){f&&(m(!0),t(i),console.log(i),m(!1))}),[f,i,t]),r.a.createElement("div",{className:"autocomplete container"},r.a.createElement("input",{placeholder:"Search recipe...",onChange:function(e){return s(e.target.value)}}),l&&r.a.createElement("div",null,"Searching ..."))})),H=Object(u.b)((function(e){return{data:e.recipe.data}}),(function(e){return{searchCuisine:function(t,a){return e(E(t,a))},setCuisine:function(t){return e(function(e){return{type:"SET_CUISINE",payload:e}}(t))}}}))((function(e){var t=e.setCuisine,a=e.searchCuisine;e.data;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("ul",{className:"cuisines"},["American","British","Cajun","Caribbean","Chinese","Greek","Indian","Italian","Japanese","Korean","Mediterranean","Mexican","Southern","Spanish","Thai","Vietnamese"].map((function(e,n){return r.a.createElement("li",{className:"cuisines__item",key:n,onClick:function(){t(e),a(e,0)}},e)}))))})),P=function(){return r.a.createElement("div",{className:"search"},r.a.createElement(x,null),r.a.createElement(H,null),r.a.createElement(B,null))},M=Object(u.b)(null,(function(e){return{createUser:function(t){return e((a=t,console.log(a),function(e){e({type:"FETCH_USER_BEGIN"}),I()({method:"POST",url:"https://api.spoonacular.com/users/connect?apiKey=".concat("b4783ea160ce4158a0220ce00e812a53"),data:JSON.stringify(a),headers:{"Content-type":"application/json"}}).then((function(t){console.log(t);var n=Object(O.a)(Object(O.a)({},a),t.data);I()({method:"POST",url:"/api/register",data:JSON.stringify(n),headers:{"Content-type":"application/json"}}).then((function(t){return console.log(t),e(N(t.data))})).catch((function(t){return e(A(t.response.data.message))}))})).catch((function(t){return console.log(t),e(A(t.response.data.message))}))}));var a}}}))((function(e){var t,a,c=e.createUser,i=e.user,u=Object(n.useState)(""),o=Object(k.a)(u,2),l=o[0],m=o[1],f=Object(n.useState)(""),E=Object(k.a)(f,2),p=E[0],d=E[1],h=Object(n.useState)(""),g=Object(k.a)(h,2),b=g[0],O=g[1],y=Object(s.f)();Object(n.useEffect)((function(){if(i.loggedIn)return y.push("/")}),[i.loggedIn,y]);var I=function(){var e=Object(j.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c({name:l,email:p,password:b});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"authentication",onSubmit:I},r.a.createElement("p",null,"register"===(null===(t=i.error)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.type)?i.error.data.message:"Register"),r.a.createElement("input",{onChange:function(e){return m(e.target.value)},type:"text",name:"Full name",className:"name",placeholder:"Full name",required:!0}),r.a.createElement("input",{onChange:function(e){return d(e.target.value)},type:"email",name:"email",className:"email",placeholder:"Email address",required:!0}),r.a.createElement("input",{onChange:function(e){return O(e.target.value)},type:"password",name:"password",className:"password",placeholder:"Password",required:!0}),r.a.createElement("button",{type:"submit",className:"submit"},"Create account",r.a.createElement("i",{className:"fas fa-arrow-right"})))})),V=Object(s.g)(Object(u.b)(null,(function(e){return{userDetails:function(t){return e(R(t))},fetchData:function(t){return e(C(t))}}}))((function(e){var t,a,c=e.userDetails,i=e.user,s=e.fetchData,u=Object(n.useState)(""),o=Object(k.a)(u,2),l=o[0],m=o[1],f=Object(n.useState)(""),E=Object(k.a)(f,2),p=E[0],d=E[1];Object(n.useEffect)((function(){i.loggedIn&&window.location.assign("/")}),[i.loggedIn]);var h=function(){var e=Object(j.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c({email:l,password:p});case 3:return e.next=5,s(i.user.favourites);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:"authentication",onSubmit:h},r.a.createElement("p",null,(null===(t=i.error)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)?i.error.data.message:"Login"),r.a.createElement("input",{onChange:function(e){return m(e.target.value)},type:"email",className:"email",name:"email",placeholder:"Email address",required:!0}),r.a.createElement("input",{onChange:function(e){return d(e.target.value)},type:"password",name:"password",className:"password",placeholder:"Password",required:!0}),r.a.createElement("button",{type:"submit",className:"submit"},"Login",r.a.createElement("i",{className:"fas fa-arrow-right"})))}))),D=Object(u.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,a=Object(s.f)();return r.a.createElement("div",{className:"account container"},r.a.createElement("div",{className:"account__user-info"},r.a.createElement("div",{className:"back-btn",onClick:function(){return a.goBack()}},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("h2",null,"Sign up")),r.a.createElement(M,{user:t}),r.a.createElement(V,{user:t}))})),J=a(38),G=a.n(J),L=Object(u.b)((function(e){return{user:e.user}}),(function(e){return{newUserImage:function(t){return e((a=t,function(){var e=Object(j.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"FETCH_USER_BEGIN"}),I()({method:"POST",url:"/api/upload",data:a,headers:{"Content-type":"multipart/form-data"}}).then((function(e){return console.log(e),t(S(e.data))})).catch((function(e){return console.log(e),console.log(e.response),t(A(e.response.data))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var a}}}))((function(e){var t,a=e.user,c=e.newUserImage,i=e.setImage,s=Object(n.useState)(""),u=Object(k.a)(s,2),o=u[0],l=u[1],m=function(){var e=Object(j.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,l(t.target.files[0]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(o),!o){e.next=10;break}return e.next=5,new FormData;case 5:return a=e.sent,e.next=8,a.append("file",o);case 8:return e.next=10,c(a);case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:f,className:"file-upload",encType:"multipart/form-data"},r.a.createElement("p",null,(null===(t=a.error)||void 0===t?void 0:t.msg)?a.error.msg:""),r.a.createElement("input",{type:"file",onChange:m}),r.a.createElement("div",{className:"file-upload__btn"},r.a.createElement("button",{type:"submit",className:"submit"},"Upload"),r.a.createElement("button",{className:"close",onClick:function(){return i(!1)}},"Close")))})),Q=Object(u.b)((function(e){return{user:e.user}}),(function(e){return{logOut:function(){return e((function(e){return e({type:"FETCH_USER_BEGIN"}),e({type:"LOG_USER_OUT"})}))}}}))((function(e){var t=e.logOut,a=(e.user,Object(s.f)()),n=function(){var e=Object(j.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t();case 3:return e.next=5,localStorage.clear();case 5:return e.abrupt("return",a.push("/"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"auth-btn"},r.a.createElement("button",{className:"btn-login",onClick:n},"Log out"))})),Y=Object(u.b)((function(e){return{user:e.user}}))((function(e){var t,a=e.user,c=Object(s.f)(),i=Object(n.useState)(!1),u=Object(k.a)(i,2),o=u[0],l=u[1];return r.a.createElement("div",{className:"dashboard container"},r.a.createElement("div",{className:"account__user-info"},r.a.createElement("div",{className:"back-btn",onClick:function(){return c.goBack()}},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("div",{className:"account__user-info__logo",onClick:function(){return l(!o)}},(null===(t=a.image)||void 0===t?void 0:t.filePath)?r.a.createElement("img",{src:a.image.fileName?a.image.filePath:G.a,alt:"profile image"}):r.a.createElement("i",{className:"fas fa-cloud-upload-alt"}))),o?r.a.createElement(L,{setImage:l}):null,r.a.createElement("h2",{className:"dashboard-name"},a.user.name),r.a.createElement(h.b,{className:"favourites-btn",to:"/favourites"},r.a.createElement("button",null,"Favourites")),r.a.createElement(Q,null))})),K=Object(s.g)(Object(u.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,a=e.history;return console.log(a),r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__container container"},r.a.createElement("div",{className:"mobile-nav"},"/recipe"===a.location.pathname?r.a.createElement("i",{onClick:function(){return a.goBack()},className:"fas fa-arrow-left"}):r.a.createElement(h.b,{to:"/",className:"header__container__icon"},r.a.createElement("i",{className:"fas fa-home"}))),r.a.createElement(h.b,{to:"/",className:"home__title"},r.a.createElement("h1",{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}},t.fetchSuccess?t.user.name:"Recipeasy")),r.a.createElement("div",{className:"menu mobile-nav"},r.a.createElement(h.b,{to:"/search",className:"header__container__icon search"},r.a.createElement("i",{className:"fas fa-search"})),r.a.createElement(h.b,{to:t.loggedIn?"/dashboard":"/account",className:"header__container__icon"},r.a.createElement("i",{className:"fas fa-user-circle"})))))}))),X=function(e){var t=Object(s.f)();return r.a.createElement("div",{className:"header-body"},r.a.createElement(K,{history:t}),r.a.createElement("div",{id:"content"},e.children))},q=Object(u.b)((function(e){return{user:e.user,data:e.user.user.favouritesDetails}}),(function(e){return{fetchData:function(t){return e(C(t))}}}))((function(e){var t=e.user,a=e.fetchData,c=e.data,i=void 0===c?[]:c,s=Object(n.useState)(!0),u=Object(k.a)(s,2),o=u[0],l=u[1];return Object(n.useEffect)((function(){function e(){return(e=Object(j.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t.user.favourites);case 2:return console.log("fetch"),e.next=5,l(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"favourites"},o?r.a.createElement("h4",null,"Loading..."):r.a.createElement("ul",{className:"results"},i.map((function(e){return r.a.createElement("li",{className:"results__item",key:e.id},r.a.createElement(g,{data:e}),t.loggedIn?r.a.createElement(w,{id:e.id}):null," ")}))))})),z=Object(u.b)((function(e){return{user:e.user}}))((function(){return r.a.createElement(h.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/dashboard",component:Y}),r.a.createElement(s.a,{path:"/account",component:D}),r.a.createElement(X,null,r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(F,null)),r.a.createElement(s.a,{path:"/search"},r.a.createElement(P,null)),r.a.createElement(s.a,{path:"/recipe",component:U}),r.a.createElement(s.a,{path:"/favourites",component:q})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=a(39),Z=a(12),$=a(25),ee=a(40),te=a.n(ee),ae={user:{favouritesDetails:[]},loading:!1,error:null,loggedIn:!1,loggedOut:!0,image:null},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_BEGIN":return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case"FETCH_USER_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{user:t.payload,error:null,loading:!1,loggedIn:!0,loggedOut:!1});case"SET_USER_FAVOURITES__DETAILS":return Object(O.a)(Object(O.a)({},e),{},{user:Object(O.a)(Object(O.a)({},e.user),{},{favouritesDetails:t.payload})});case"SET_USER_FAVOURITES__ID":return Object(O.a)(Object(O.a)({},e),{},{user:Object(O.a)(Object(O.a)({},e.user),{},{favourites:t.payload})});case"SET_USER_ON_RELOAD":return Object(O.a)(Object(O.a)({},e),{},{user:t.payload.user,error:t.payload.error,loading:t.payload.loading,loggedIn:t.payload.loggedIn});case"SET_USER_IMAGE":return Object(O.a)(Object(O.a)({},e),{},{image:{fileName:t.payload.fileName,filePath:t.payload.filePath}});case"FETCH_USER_FAILURE":return Object(O.a)(Object(O.a)({},e),{},{error:t.payload,loading:!1,loggedIn:!1});case"LOG_USER_OUT":return Object(O.a)(Object(O.a)({},e),{},{user:{},error:null,loading:!1,loggedIn:!1,loggedOut:!0,image:{}});default:return e}},re={searchResults:[],data:[],loading:!1,error:null,cuisine:"",similarRecipes:[]},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CUISINE":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:null,cuisine:t.payload});case"FETCH_RECIPE_BEGIN":return Object(O.a)(Object(O.a)({},e),{},{loading:!0,error:null});case"FETCH_RECIPE_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{data:e.data.concat(t.payload),searchResults:[],loading:!1,error:null,fetchSuccess:!0});case"FETCH_SEARCH_RECIPE_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{searchResults:t.payload,error:null,loading:!1,fetchSuccess:!0});case"FETCH_SIMILAR_RECIPES":return Object(O.a)(Object(O.a)({},e),{},{similarRecipes:t.payload,loading:!1,error:null});case"FETCH_RECIPE_FAILURE":return Object(O.a)(Object(O.a)({},e),{},{loading:!1,error:t.payload.message});default:return e}},ie=a(41),se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,ue={key:"root",storage:te.a},oe=Object(Z.c)({recipe:ce,user:ne}),le=Object($.a)(ue,oe),me=Object(Z.d)(le,se(Object(Z.a)(ie.a))),fe=Object($.b)(me);i.a.render(r.a.createElement(u.a,{store:me},r.a.createElement(W.a,{loading:null,persistor:fe},r.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.a79144ff.chunk.js.map